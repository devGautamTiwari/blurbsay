{"version":3,"sources":["firebase.js","AnimationValues.js","Message.js","UserProfileContext.js","Chat.js","SignIn.js","App.js","serviceWorker.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","animationValues","animation1","animation2","animation3","animation4","animation5","animation6","Message","forwardRef","props","ref","useState","message","text","isUser","email","isAnimating","className","viewBox","blobSize","xmlns","id","fill","blobColor","transform","attributeName","values","animationClassName","keyTimes","calcMode","dur","repeatCount","begin","Math","random","width","height","IconButton","onClick","collection","doc","delete","color","UserProfileContext","createContext","UserProfileProvider","setEmail","user","setUser","Provider","value","children","Chat","input","setInput","useContext","messages","setMessages","useEffect","unsubscribe","orderBy","limit","onSnapshot","snapshot","docs","map","data","sendMessage","e","preventDefault","add","floor","colors","length","animationClasses","timestamp","FieldValue","serverTimestamp","style","marginLeft","Link","signOut","to","variant","breakpointCols","default","1200","1024","768","500","columnClassName","key","FormControl","TextField","placeholder","multiline","size","onChange","target","onKeyPress","isMobile","shiftKey","autoFocus","disabled","type","Copyright","Typography","align","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","submit","SignIn","classes","error","setError","actionCodeSettings","url","handleCodeInApp","emailSent","setEmailSent","isSignInWithEmailLink","window","location","href","email_","localStorage","getItem","console","log","prompt","signInWithEmailLink","then","authUser","removeItem","catch","err","Container","component","maxWidth","CssBaseline","Avatar","Grid","container","item","xs","required","fullWidth","label","name","autoComplete","Button","sendSignInLinkToEmail","setItem","signIn","Box","mt","APP","onAuthStateChanged","exact","path","App","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qVAEMA,EAAcC,IAASC,cAAc,CACzCC,OAAQ,0CACRC,WAAY,2BACZC,YAAa,kCACbC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,eACnBC,MAAO,8CAGIC,EAAOV,EAAYU,OAGjBC,EAFJX,EAAYY,YCORC,EApBS,CACtBC,WACE,gmEAEFC,WACE,u6DAEFC,WACE,i6DAEFC,WACE,8uEAEFC,WACE,glEAEFC,WACE,8yEC0LWC,G,MAlLCC,sBAAW,SAACC,EAAOC,GAAQ,MAEjBC,mBAASF,EAAMG,QAAQC,MAFN,mBAElCA,EAFkC,aAGTF,oBAAS,IAHA,mBAInCG,GAJmC,UAI1BL,EAAMM,QAAUN,EAAMG,QAAQG,OAJJ,EAKHJ,oBAAS,GALN,mBAKlCK,EALkC,aAMTL,oBAAS,IANA,6BAgDzC,OACE,yBAAKD,IAAKA,EAAKO,UAAS,kBAAaH,GAAU,kBAC7C,yBAAKG,UAAU,iBACb,yBACEA,UAAU,mBAEVC,QAAO,cAAST,EAAMG,QAAQO,SAAvB,YAAmCV,EAAMG,QAAQO,UAExDC,MAAM,8BAEN,uBAAGC,GAAE,gBAAWZ,EAAMY,KACpB,0BACEC,KAAMb,EAAMG,QAAQW,UACpBC,UAAS,oBAAef,EAAMG,QAAQO,SAAW,EAAxC,aACPV,EAAMG,QAAQO,SAAW,EADlB,MAIT,6BACEM,cAAc,IACdC,OAAQ1B,EAAgBS,EAAMG,QAAQe,oBACtCC,SAAS,2BACTC,SAAS,QACTC,IAAKd,EAAc,KAAO,KAC1Be,YAAY,aACZC,MAAK,UAAKC,KAAKC,SAAV,QAWT,mCAMEC,MAAO1B,EAAMG,QAAQO,SAAW,GAChCiB,OAAQ3B,EAAMG,QAAQO,SAAW,IAEjC,uBACEC,MAAM,+BACNH,UAAU,qBAETJ,OAMVC,GACC,yBAAKG,UAAU,oBAUb,kBAACoB,EAAA,EAAD,CACEpB,UAAU,kBACVqB,QAAS,kBAAMxC,EAAGyC,WAAW,SAASC,IAAI/B,EAAMY,IAAIoB,WAEpD,kBAAC,IAAD,CAAYC,MAAM,iB,6DC5IxBC,EAAqBC,0BAErBC,EAAsB,SAACpC,GAAW,IAAD,EACXE,mBAAS,IADE,mBAC9BI,EAD8B,KACvB+B,EADuB,OAGbnC,mBAAS,MAHI,mBAG9BoC,EAH8B,KAGxBC,EAHwB,KAOrC,OACE,kBAACL,EAAmBM,SAApB,CACEC,MAAO,CACL,CAACnC,EAAO+B,GACR,CAACC,EAAMC,KAKRvC,EAAM0C,W,OCoLEC,MArLf,WAAiB,IAAD,EACYzC,mBAAS,IADrB,mBACP0C,EADO,KACAC,EADA,OAEIC,qBAAWZ,GAFf,mBAEN5B,EAFM,yBAGkBJ,mBAAS,IAH3B,mBAGP6C,EAHO,KAGGC,EAHH,KAKdC,qBAAU,WACR,IAAMC,EAAc7D,EACjByC,WAAW,SACXqB,QAAQ,YAAa,QACrBC,MAAM,KACNC,YAAW,SAACC,GACXN,EACEM,EAASC,KAAKC,KAAI,SAACzB,GAAD,MAAU,CAAEnB,GAAImB,EAAInB,GAAIT,QAAS4B,EAAI0B,eAK7D,OAAO,kBAAMP,OAGZ,IAEH,IAAMQ,EAAc,SAACC,GACnBA,EAAEC,iBACEhB,IACFvD,EAAGyC,WAAW,SAAS+B,IAAI,CACzBzD,KAAMwC,EAENlC,SAAUc,KAAKsC,MAAM,GAAAtC,KAAKC,SAAyB,KACnDX,UAAWiD,EAAOvC,KAAKsC,MAAMtC,KAAKC,SAAWsC,EAAOC,SACpD9C,mBACE+C,EAAiBzC,KAAKsC,MAAMtC,KAAKC,SAAWwC,EAAiBD,SAC/D1D,MAAOA,EACP4D,UAAWvF,IAASW,UAAU6E,WAAWC,oBAE3CvB,EAAS,MAGPkB,EAAS,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEIE,EAAmB,CACvB,aACA,aACA,aACA,aACA,aACA,cAEF,OACE,yBAAKzD,UAAU,cACb,yBAAKA,UAAU,iBACb,wBACE6D,MAAO,CACLC,WAAY,SAFhB,wBAOA,kBAACC,EAAA,EAAD,CACE/D,UAAU,gBACVqB,QAAS,WAEP,OADAzC,EAAKoF,UACE,kBAAC,IAAD,CAAUC,GAAG,aAEtBC,QAAQ,YACRzC,MAAM,WAPR,YAYF,yBAAKzB,UAAU,cACb,kBAAC,IAAD,CACEmE,eAAgB,CACdC,QAAS,EACTC,KAAM,EACNC,KAAM,EACNC,IAAK,EACLC,IAAK,GAEPxE,UAAU,oBACVyE,gBAAgB,6BAGflC,EAASS,KAAI,gBAAG5C,EAAH,EAAGA,GAAIT,EAAP,EAAOA,QAAP,OACZ,kBAAC,EAAD,CACE+E,IAAKtE,EAELT,QAASA,EACTG,MAAOA,EACPM,GAAIA,SAMZ,6BACE,0BAAMJ,UAAU,cACd,kBAAC2E,EAAA,EAAD,CAAa3E,UAAU,qBACrB,kBAAC4E,EAAA,EAAD,CACE5E,UAAU,cACVkE,QAAQ,WACRW,YAAY,oBACZ5C,MAAOG,EACP0C,WAAS,EACTC,KAAK,QACLC,SAAU,SAAC7B,GAAD,OAAOd,EAASc,EAAE8B,OAAOhD,QACnCiD,WAAY,SAAC/B,GACNgC,YACEhC,EAAEiC,UAAsB,UAAVjC,EAAEuB,MACnBvB,EAAEC,iBACFF,EAAYC,KAIlBkC,WAAS,IAEX,kBAACjE,EAAA,EAAD,CACEpB,UAAU,mBACVsF,UAAWlD,EACX8B,QAAQ,YACRzC,MAAM,UACN8D,KAAK,SACLlE,QAAS6B,GAET,kBAAC,IAAD,Y,gGC5Kd,SAASsC,IACP,OACE,kBAACC,EAAA,EAAD,CACEvB,QAAQ,QAERwB,MAAM,UAEL,kBALH,aAQG,IAAIC,MAAOC,cACX,KAKP,IAAMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQR,EAAMG,QAAQ,GACtBM,gBAAiB,UACjB/E,MAAO,WAETgF,KAAM,CACJvF,MAAO,OACP+E,UAAWF,EAAMG,QAAQ,IAE3BQ,OAAQ,CACNH,OAAQR,EAAMG,QAAQ,EAAG,EAAG,QAKjB,SAASS,IACtB,IAAMC,EAAUf,IADe,EAEHvD,qBAAWZ,GAFR,yCAEvB5B,EAFuB,KAEhB+B,EAFgB,OAGLnC,mBAAS,IAHJ,mBAGxBmH,EAHwB,KAGjBC,EAHiB,KAIzBC,EAAqB,CACzBC,IAAK,kCACLC,iBAAiB,GANY,EAQGvH,oBAAS,GARZ,mBAQxBwH,EARwB,KAQbC,EARa,KAS/B1E,qBAAU,WAER,GAAI7D,EAAKwI,sBAAsBC,OAAOC,SAASC,MAAO,CACpD,IAAIC,EAASH,OAAOI,aAAaC,QAAQ,kBACzCC,QAAQC,IAAI9H,GACP0H,IACHA,EAASK,OAAO,+CAElBjJ,EACGkJ,oBAAoBN,EAAQH,OAAOC,SAASC,MAC5CQ,MAAK,SAACC,GAEL,OADAX,OAAOI,aAAaQ,WAAW,kBACxB,kBAAC,IAAD,CAAUhE,GAAG,SAErBiE,OAAM,SAACC,GAAD,OAASrB,EAASqB,SAG5B,IAaH,OACE,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOrI,UAAU,oBAAoBsI,SAAS,MACjE,kBAACC,EAAA,EAAD,MACA,yBAAKvI,UAAW4G,EAAQZ,OACtB,kBAACwC,EAAA,EAAD,CAAQxI,UAAW4G,EAAQN,QACzB,kBAAC,IAAD,OAEF,kBAACb,EAAA,EAAD,CAAY4C,UAAU,KAAKnE,QAAQ,MAAnC,uBAGA,kBAACuB,EAAA,EAAD,CAAYhE,MAAM,SAASoF,EAAMlH,SAEjC,0BAAMK,UAAW4G,EAAQH,MACvB,kBAACgC,EAAA,EAAD,CAAMC,WAAS,EAACxC,QAAS,GACvB,kBAACuC,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAAChE,EAAA,EAAD,CACE5E,UAAU,gBACVkE,QAAQ,WACR2E,UAAQ,EACRC,WAAS,EACT1I,GAAG,QACH2I,MAAM,gBACNC,KAAK,QACL/G,MAAOnC,EACPkF,SAAU,SAAC7B,GACTtB,EAASsB,EAAE8B,OAAOhD,QAEpBgH,aAAa,QACb5D,WAAS,KAOb,kBAAC6D,EAAA,EAAD,CACElJ,UAAU,iBACVuF,KAAK,SACLuD,WAAS,EACT5E,QAAQ,YAGR7C,QAAS,SAAC8B,IAtDP,SAACA,GACdA,EAAEC,iBACFxE,EACGuK,sBAAsBrJ,EAAOiH,GAC7BgB,MAAK,SAACC,GACLlB,EAAS,IACTK,GAAa,GACbE,OAAOI,aAAa2B,QAAQ,iBAAkBtJ,MAE/CoI,OAAM,SAACC,GAAD,OAASrB,EAASqB,MA8CfkB,CAAOlG,KAIR+D,EAAY,yBAA2B,uBAKhD,kBAACoC,EAAA,EAAD,CAAKC,GAAI,GACP,kBAAC/D,EAAD,Q,OCxIR,SAASgE,IAAO,IAAD,EAC2BlH,qBAAWZ,GADtC,mBACHG,EADG,6CACSC,EADT,KACeC,EADf,KAoBb,OAjBAU,qBAAU,WACR,IAAMC,EAAc9D,EAAK6K,oBAAmB,SAACzB,GAC3C,OAAIA,GACFjG,EAAQiG,GACRnG,EAASmG,EAASlI,OACX,kBAAC,IAAD,CAAUmE,GAAG,QAEpBlC,EAAQ,MACRF,EAAS,IACF,kBAAC,IAAD,CAAUoC,GAAG,gBAGxB,OAAO,WACLvB,OAED,CAACZ,IAGF,yBAAK9B,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0J,OAAK,EAACC,KAAK,KACf7H,EAAO,kBAAC,EAAD,MAAW,kBAAC,IAAD,CAAUmC,GAAG,aAElC,kBAAC,IAAD,CAAOyF,OAAK,EAACC,KAAK,WACd7H,EAAoB,kBAAC,IAAD,CAAUmC,GAAG,MAA1B,kBAAC,EAAD,UAOrB,IAOe2F,EAPH,WACV,OACE,kBAAC,EAAD,KACE,kBAACJ,EAAD,QCvCcK,QACW,cAA7BxC,OAAOC,SAASwC,UAEe,UAA7BzC,OAAOC,SAASwC,UAEhBzC,OAAOC,SAASwC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBxC,MAAK,SAAAyC,GACJA,EAAaC,gBAEdvC,OAAM,SAAArB,GACLc,QAAQd,MAAMA,EAAMlH,a","file":"static/js/main.c25fab21.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAMY2JtBqFngQAu3rdCEeoYh5WCIu7xT9c\",\r\n  authDomain: \"blurbsay.firebaseapp.com\",\r\n  databaseURL: \"https://blurbsay.firebaseio.com\",\r\n  projectId: \"blurbsay\",\r\n  storageBucket: \"blurbsay.appspot.com\",\r\n  messagingSenderId: \"406380711850\",\r\n  appId: \"1:406380711850:web:7b2694b95acdcad74165d3\",\r\n});\r\n\r\nexport const auth = firebaseApp.auth();\r\nconst db = firebaseApp.firestore();\r\n\r\nexport default db;\r\n","const animationValues = {\r\n  animation1:\r\n    \"M41.6,-55.5C54.4,-56.5,65.4,-45.7,73.6,-32.3C81.9,-18.9,87.2,-2.8,78.9,6.9C70.6,16.6,48.6,19.8,35.5,25.6C22.4,31.3,18.2,39.6,10.6,46.8C2.9,54,-8.3,60.1,-17.9,58.5C-27.6,56.8,-35.8,47.4,-47.3,38.5C-58.8,29.6,-73.8,21.2,-76.5,10.2C-79.3,-0.7,-69.9,-14.2,-63.5,-29.3C-57,-44.4,-53.5,-61.1,-43.4,-61.2C-33.3,-61.4,-16.7,-45,-1.1,-43.2C14.4,-41.5,28.9,-54.4,41.6,-55.5Z; M31.4,-44.6C42,-42.1,52.6,-35.5,61.1,-25.4C69.5,-15.4,75.6,-1.8,70.1,7.4C64.6,16.5,47.4,21.3,34.9,23.3C22.4,25.3,14.7,24.4,6.3,31.2C-2,38,-10.8,52.5,-14,50.4C-17.2,48.2,-14.7,29.4,-17.8,19.1C-20.8,8.9,-29.4,7.2,-35,1.9C-40.5,-3.3,-43.1,-12.1,-42.9,-22.5C-42.6,-32.8,-39.6,-44.8,-31.9,-48.6C-24.3,-52.5,-12.2,-48.2,-0.9,-46.9C10.4,-45.6,20.9,-47.2,31.4,-44.6Z; M48.3,-69.3C60.9,-67.1,68.2,-50.8,65.7,-36C63.2,-21.1,50.8,-7.8,41.7,0.9C32.5,9.6,26.6,13.7,23.2,23.1C19.8,32.5,19,47.2,13.4,51.6C7.8,56,-2.6,50.1,-13.8,46.8C-24.9,43.6,-36.9,43,-48.4,37.6C-60,32.2,-71,22,-67.9,12.7C-64.7,3.3,-47.3,-5.2,-39.4,-16.1C-31.5,-27,-33,-40.4,-28,-46.1C-23,-51.9,-11.5,-50,3.2,-54.9C17.9,-59.8,35.7,-71.6,48.3,-69.3Z; M30.6,-49.8C37.4,-43.2,39.3,-31,45.5,-20C51.6,-9,62.2,0.7,60.3,8.2C58.4,15.6,44.2,20.8,33.1,22.7C22.1,24.6,14.3,23.3,4.9,34.1C-4.6,44.8,-15.6,67.7,-28.3,74.1C-41,80.5,-55.4,70.5,-55.9,56.1C-56.3,41.8,-42.8,23,-38.7,9.5C-34.5,-4.1,-39.8,-12.3,-38,-17.8C-36.3,-23.3,-27.4,-26,-19.8,-32.4C-12.3,-38.7,-6.2,-48.6,2.9,-53.1C11.9,-57.5,23.7,-56.5,30.6,-49.8Z; M31.6,-53.9C33.5,-47.9,22.4,-26.6,22.2,-14C22,-1.4,32.7,2.4,34.4,6.4C36.1,10.4,28.9,14.6,24.2,22.2C19.6,29.8,17.4,40.8,10.9,47.2C4.5,53.6,-6.2,55.5,-20.8,57.4C-35.4,59.2,-53.9,61,-67.1,53.7C-80.4,46.5,-88.3,30.1,-80.6,17.7C-73,5.2,-49.8,-3.5,-37.1,-10.9C-24.3,-18.2,-21.9,-24.3,-17.4,-29.2C-13,-34,-6.5,-37.8,4.2,-44.3C14.8,-50.8,29.7,-60,31.6,-53.9Z; M41.6,-55.5C54.4,-56.5,65.4,-45.7,73.6,-32.3C81.9,-18.9,87.2,-2.8,78.9,6.9C70.6,16.6,48.6,19.8,35.5,25.6C22.4,31.3,18.2,39.6,10.6,46.8C2.9,54,-8.3,60.1,-17.9,58.5C-27.6,56.8,-35.8,47.4,-47.3,38.5C-58.8,29.6,-73.8,21.2,-76.5,10.2C-79.3,-0.7,-69.9,-14.2,-63.5,-29.3C-57,-44.4,-53.5,-61.1,-43.4,-61.2C-33.3,-61.4,-16.7,-45,-1.1,-43.2C14.4,-41.5,28.9,-54.4,41.6,-55.5Z;\",\r\n\r\n  animation2:\r\n    \"M36.1,-46.3C51.8,-38.2,73.2,-34.5,82.8,-22.7C92.4,-10.9,90.4,8.9,82.3,24.6C74.3,40.3,60.2,51.9,45.5,58.8C30.8,65.8,15.4,68,-0.8,69.1C-17,70.2,-33.9,70.2,-39.2,60.1C-44.5,50.1,-38,30.2,-34.2,17C-30.3,3.9,-29,-2.6,-27.6,-9.6C-26.2,-16.7,-24.8,-24.4,-20.2,-36.2C-15.6,-47.9,-7.8,-63.7,1.2,-65.3C10.2,-66.9,20.3,-54.5,36.1,-46.3Z; M23.6,-41.7C28.9,-28.7,30.4,-19.5,33.4,-10.7C36.4,-2,40.9,6.4,41.1,15.7C41.3,25,37.2,35.3,29.6,46.8C22.1,58.2,11,70.9,-1.4,72.8C-13.7,74.7,-27.5,65.7,-41.4,56.3C-55.4,46.9,-69.5,37,-70.1,25.1C-70.7,13.2,-57.9,-0.7,-50.5,-14.2C-43.1,-27.8,-41.2,-41,-33.7,-53.2C-26.2,-65.5,-13.1,-76.9,-2,-74.1C9.2,-71.4,18.3,-54.6,23.6,-41.7Z; M28.6,-33C39,-31.9,50.6,-26,61.6,-14.7C72.6,-3.3,83,13.5,81.1,28.5C79.2,43.5,64.9,56.6,49.3,62.9C33.7,69.3,16.9,69,0.5,68.3C-15.9,67.7,-31.8,66.7,-47.5,60.3C-63.1,54,-78.4,42.2,-81.9,27.5C-85.5,12.8,-77.3,-4.8,-70.3,-21.7C-63.3,-38.6,-57.4,-54.7,-45.8,-55.4C-34.3,-56.1,-17.2,-41.3,-4,-35.8C9.1,-30.3,18.3,-34,28.6,-33Z; M48.9,-67.8C60.8,-58.6,66.1,-40.9,67.6,-24.7C69.1,-8.5,66.6,6.2,62.8,21.2C59,36.3,53.9,51.7,43.2,57.6C32.5,63.6,16.2,60.1,2,57.4C-12.3,54.7,-24.6,52.8,-39.2,48.1C-53.9,43.4,-70.8,35.9,-72.1,25.1C-73.4,14.2,-58.9,-0.1,-50.3,-13.1C-41.6,-26.1,-38.7,-37.7,-31.3,-48.4C-23.9,-59,-12,-68.7,3.3,-73.2C18.5,-77.7,37,-77,48.9,-67.8Z; M37.9,-49.5C48.4,-44.6,55.7,-32.5,59.8,-19.5C63.9,-6.5,64.9,7.5,57.5,15.1C50.1,22.8,34.3,24.1,23.3,28.9C12.4,33.6,6.2,41.7,-2.7,45.5C-11.7,49.3,-23.3,48.8,-37.8,45.1C-52.3,41.5,-69.6,34.9,-70.2,24.7C-70.9,14.6,-54.9,1,-45.7,-11C-36.5,-23,-34.1,-33.3,-27.6,-39.5C-21.1,-45.8,-10.6,-48,1.6,-50.2C13.7,-52.4,27.4,-54.5,37.9,-49.5Z; M36.1,-46.3C51.8,-38.2,73.2,-34.5,82.8,-22.7C92.4,-10.9,90.4,8.9,82.3,24.6C74.3,40.3,60.2,51.9,45.5,58.8C30.8,65.8,15.4,68,-0.8,69.1C-17,70.2,-33.9,70.2,-39.2,60.1C-44.5,50.1,-38,30.2,-34.2,17C-30.3,3.9,-29,-2.6,-27.6,-9.6C-26.2,-16.7,-24.8,-24.4,-20.2,-36.2C-15.6,-47.9,-7.8,-63.7,1.2,-65.3C10.2,-66.9,20.3,-54.5,36.1,-46.3Z;\",\r\n\r\n  animation3:\r\n    \"M34.5,-38.9C49.5,-36.6,69.7,-32.9,79.5,-21.4C89.3,-10,88.6,9.3,82.4,26.2C76.1,43.1,64.2,57.6,49.6,61.7C34.9,65.7,17.5,59.4,0.4,58.8C-16.6,58.2,-33.2,63.3,-39.5,56.6C-45.8,49.8,-41.9,31,-45.3,15.8C-48.8,0.6,-59.6,-11.2,-60.6,-23.3C-61.6,-35.3,-52.7,-47.8,-40.9,-51.2C-29.2,-54.6,-14.6,-48.9,-2.4,-45.5C9.8,-42.2,19.5,-41.3,34.5,-38.9Z; M43.5,-59.9C48.4,-56.3,39,-32.9,44.8,-14.6C50.7,3.7,71.8,16.9,72.8,26.6C73.7,36.2,54.3,42.2,38.8,51.9C23.3,61.6,11.7,75,-2.6,78.6C-16.9,82.2,-33.7,75.9,-38.3,62.7C-42.9,49.4,-35.3,29.2,-41.3,12.9C-47.4,-3.4,-67.2,-15.9,-66.3,-22.4C-65.4,-29,-43.7,-29.7,-29.2,-30.1C-14.7,-30.6,-7.4,-30.8,6,-39C19.3,-47.2,38.6,-63.4,43.5,-59.9Z; M26.1,-32.9C36.4,-28.5,49.2,-24.3,56.1,-15.3C63,-6.3,64.1,7.4,59.2,18.2C54.3,29,43.3,36.7,32.4,48.4C21.5,60,10.8,75.6,2.6,72C-5.6,68.5,-11.2,45.8,-18.2,32.9C-25.2,20,-33.6,16.8,-43.9,8.7C-54.1,0.6,-66.3,-12.4,-68.7,-27.7C-71.2,-43.1,-64,-60.7,-51,-64.2C-37.9,-67.7,-19,-57.2,-5.5,-49.6C7.9,-42,15.8,-37.3,26.1,-32.9Z; M19.3,-26C25,-22.4,29.7,-16.8,37.2,-8.6C44.8,-0.3,55.2,10.5,56.5,22C57.7,33.5,49.8,45.6,38.9,51.5C28,57.3,14,56.9,3.7,51.8C-6.5,46.7,-13,36.8,-26,31.6C-39,26.4,-58.4,25.8,-66.8,17.5C-75.3,9.2,-72.9,-6.8,-63.6,-16C-54.2,-25.2,-38,-27.6,-26.2,-29.3C-14.5,-31,-7.2,-32.1,-0.2,-31.8C6.8,-31.4,13.5,-29.7,19.3,-26Z; M31.8,-40.7C45.6,-33.7,64.2,-30.3,65.4,-22.3C66.6,-14.3,50.3,-1.6,43.2,12.1C36.1,25.8,38.2,40.6,32.5,46.5C26.9,52.4,13.4,49.4,0.7,48.5C-12.1,47.6,-24.2,48.8,-32.6,43.8C-41,38.8,-45.6,27.6,-50.1,15.8C-54.6,4,-59,-8.3,-54,-15.7C-49,-23.1,-34.7,-25.6,-24.2,-33.7C-13.6,-41.7,-6.8,-55.3,1.1,-56.8C9,-58.3,18,-47.7,31.8,-40.7Z; M34.5,-38.9C49.5,-36.6,69.7,-32.9,79.5,-21.4C89.3,-10,88.6,9.3,82.4,26.2C76.1,43.1,64.2,57.6,49.6,61.7C34.9,65.7,17.5,59.4,0.4,58.8C-16.6,58.2,-33.2,63.3,-39.5,56.6C-45.8,49.8,-41.9,31,-45.3,15.8C-48.8,0.6,-59.6,-11.2,-60.6,-23.3C-61.6,-35.3,-52.7,-47.8,-40.9,-51.2C-29.2,-54.6,-14.6,-48.9,-2.4,-45.5C9.8,-42.2,19.5,-41.3,34.5,-38.9Z;\",\r\n\r\n  animation4:\r\n    \"M26.7,-44.4C37.9,-39.9,52.3,-39.2,64.3,-32.5C76.3,-25.7,85.8,-12.9,85.5,-0.2C85.2,12.5,75.1,25,63.2,32C51.4,38.9,37.7,40.3,26.9,50.1C16,59.8,8,78,3.2,72.5C-1.6,66.9,-3.2,37.7,-13.3,27.4C-23.3,17.2,-41.7,26,-53.2,24.6C-64.6,23.2,-69.1,11.6,-70.9,-1C-72.7,-13.7,-71.8,-27.3,-64.4,-35.7C-57,-44.2,-43.1,-47.4,-31.3,-51.4C-19.5,-55.5,-9.7,-60.4,-1,-58.8C7.8,-57.1,15.6,-48.8,26.7,-44.4Z; M5,-20.5C7,-7.5,9.6,-7.3,11.9,-6C14.2,-4.7,16.2,-2.3,15.4,-0.5C14.6,1.4,11.1,2.9,15.3,15.5C19.6,28.2,31.7,52,30.5,64.4C29.2,76.7,14.6,77.4,-0.4,78.2C-15.5,78.9,-30.9,79.6,-35.7,69.3C-40.4,59,-34.5,37.7,-39.6,24.4C-44.7,11,-60.9,5.5,-69.4,-4.9C-78,-15.3,-78.8,-30.7,-68.2,-34.6C-57.7,-38.5,-35.7,-31.1,-22.4,-37.6C-9.1,-44.1,-4.5,-64.5,-1.5,-61.9C1.5,-59.2,3,-33.5,5,-20.5Z; M11.9,-22.2C15.8,-18.4,19.6,-15.9,17.7,-12.5C15.9,-9,8.4,-4.5,6.6,-1C4.9,2.4,8.8,4.9,15.5,16.8C22.2,28.7,31.8,50.1,29.6,65.4C27.5,80.6,13.8,89.6,3.4,83.8C-7,77.9,-14.1,57.2,-26.2,47.8C-38.3,38.4,-55.6,40.2,-54.3,34.1C-53,28,-33.2,14,-31.7,0.8C-30.3,-12.4,-47.3,-24.7,-51.4,-35.7C-55.5,-46.7,-46.8,-56.3,-36,-56.1C-25.3,-56,-12.7,-46.2,-4.3,-38.7C4,-31.2,8,-26,11.9,-22.2Z; M44.6,-74.7C58.5,-69.3,70.8,-58.7,75.4,-45.3C79.9,-32,76.7,-16,68.9,-4.5C61,6.9,48.5,13.9,38.5,17.7C28.5,21.6,20.9,22.3,14.9,28.6C8.9,34.8,4.4,46.5,-3.4,52.3C-11.1,58.1,-22.3,58,-28.5,51.9C-34.7,45.8,-35.9,33.6,-31.8,23.9C-27.7,14.3,-18.2,7.1,-21.1,-1.7C-24,-10.5,-39.3,-21,-45.1,-33.6C-51,-46.3,-47.4,-61,-38.3,-69.1C-29.2,-77.2,-14.6,-78.5,0.4,-79.2C15.4,-79.9,30.8,-80,44.6,-74.7Z; M13.8,-32.2C15,-23.2,11.1,-13.7,23.5,-8.2C36,-2.8,64.7,-1.4,75.5,6.2C86.3,13.8,79.1,27.7,71.1,40.7C63,53.8,54.1,66,42.1,67.8C30.1,69.6,15.1,60.9,3.3,55.2C-8.5,49.5,-16.9,46.8,-20.2,39.9C-23.5,33.1,-21.5,22.2,-18.3,14.9C-15.2,7.5,-10.8,3.8,-20.8,-5.7C-30.7,-15.2,-55,-30.5,-55.8,-33.8C-56.6,-37,-33.9,-28.3,-20.7,-30.3C-7.5,-32.4,-3.8,-45.3,1.3,-47.5C6.3,-49.7,12.6,-41.2,13.8,-32.2Z; M26.7,-44.4C37.9,-39.9,52.3,-39.2,64.3,-32.5C76.3,-25.7,85.8,-12.9,85.5,-0.2C85.2,12.5,75.1,25,63.2,32C51.4,38.9,37.7,40.3,26.9,50.1C16,59.8,8,78,3.2,72.5C-1.6,66.9,-3.2,37.7,-13.3,27.4C-23.3,17.2,-41.7,26,-53.2,24.6C-64.6,23.2,-69.1,11.6,-70.9,-1C-72.7,-13.7,-71.8,-27.3,-64.4,-35.7C-57,-44.2,-43.1,-47.4,-31.3,-51.4C-19.5,-55.5,-9.7,-60.4,-1,-58.8C7.8,-57.1,15.6,-48.8,26.7,-44.4Z;\",\r\n\r\n  animation5:\r\n    \"M27,-43.1C39.1,-34.2,55.9,-33.7,61,-26.7C66,-19.6,59.3,-6,59.7,10.3C60,26.7,67.5,45.9,59.1,45.8C50.7,45.7,26.4,26.4,9.7,29.9C-7,33.4,-16.1,59.7,-24.4,65.4C-32.7,71.1,-40.1,56.1,-47,43.4C-53.8,30.6,-60.2,20.1,-63.9,8C-67.5,-4.2,-68.5,-18,-58.7,-21.6C-48.9,-25.2,-28.3,-18.6,-16.7,-27.7C-5.2,-36.8,-2.6,-61.6,2.4,-65.4C7.4,-69.1,14.9,-51.9,27,-43.1Z; M16.7,-21.2C22.4,-22.4,28.3,-19,28.5,-14.3C28.8,-9.6,23.3,-3.5,27.1,7.3C30.9,18.1,43.8,33.7,42.9,40.4C42,47,27.3,44.8,15.6,44C4,43.2,-4.5,43.8,-8.6,38.5C-12.7,33.1,-12.3,21.7,-20.4,15.8C-28.5,9.8,-45.1,9.3,-48.4,5.2C-51.6,1.1,-41.6,-6.7,-37.9,-18.3C-34.1,-29.9,-36.6,-45.4,-31.3,-44.4C-26.1,-43.5,-13,-26.2,-3.8,-20.4C5.5,-14.5,11,-20.1,16.7,-21.2Z; M33.3,-46.8C47,-43.1,64.5,-40.3,71.2,-30.9C78,-21.6,74.1,-5.7,67.4,6.5C60.7,18.8,51.3,27.5,40.2,28.1C29.2,28.6,16.6,21.1,6.4,25.8C-3.7,30.6,-11.4,47.7,-15.5,48.5C-19.6,49.2,-20.2,33.6,-32.2,25C-44.2,16.4,-67.6,14.7,-73.5,7.5C-79.4,0.2,-67.6,-12.7,-60.3,-27.1C-53,-41.5,-50.1,-57.5,-40.8,-63.2C-31.5,-68.8,-15.7,-64.1,-3,-59.5C9.8,-54.9,19.7,-50.4,33.3,-46.8Z; M40.2,-54.8C51.9,-55.1,60.9,-43.5,60.6,-31.4C60.4,-19.3,50.7,-6.7,51.1,9C51.4,24.8,61.8,43.6,58.4,54.6C55.1,65.6,38.1,68.8,22.9,69.2C7.7,69.7,-5.7,67.4,-19.2,64C-32.7,60.7,-46.2,56.2,-50,46.4C-53.7,36.5,-47.6,21.2,-52.2,5.9C-56.9,-9.3,-72.2,-24.7,-72.7,-37.3C-73.3,-49.9,-59,-59.8,-44.4,-58.1C-29.8,-56.4,-14.9,-43.2,-0.3,-42.7C14.3,-42.2,28.6,-54.4,40.2,-54.8Z; M30.2,-50.6C37.7,-42.3,41.2,-31.3,48.7,-20.6C56.3,-9.8,67.9,0.8,71.6,13.8C75.2,26.8,70.9,42.2,60.9,51.6C51,60.9,35.4,64.2,23.1,58.9C10.7,53.5,1.6,39.5,-6.4,32.3C-14.3,25.1,-21.2,24.7,-33.3,22.4C-45.5,20,-63,15.8,-62.7,9.8C-62.4,3.7,-44.4,-4.2,-39.3,-19C-34.2,-33.9,-42,-55.8,-37.7,-65.5C-33.3,-75.2,-16.6,-72.8,-2.6,-68.7C11.4,-64.7,22.8,-59,30.2,-50.6Z; M27,-43.1C39.1,-34.2,55.9,-33.7,61,-26.7C66,-19.6,59.3,-6,59.7,10.3C60,26.7,67.5,45.9,59.1,45.8C50.7,45.7,26.4,26.4,9.7,29.9C-7,33.4,-16.1,59.7,-24.4,65.4C-32.7,71.1,-40.1,56.1,-47,43.4C-53.8,30.6,-60.2,20.1,-63.9,8C-67.5,-4.2,-68.5,-18,-58.7,-21.6C-48.9,-25.2,-28.3,-18.6,-16.7,-27.7C-5.2,-36.8,-2.6,-61.6,2.4,-65.4C7.4,-69.1,14.9,-51.9,27,-43.1Z;\",\r\n\r\n  animation6:\r\n    \"M26.4,-44.7C39.5,-38.1,59.2,-41.8,65.7,-36.1C72.2,-30.3,65.6,-15.2,64.3,-0.7C63,13.7,67.1,27.4,64.9,40.7C62.8,54.1,54.5,67,42.7,66.8C30.8,66.5,15.4,53,0.4,52.4C-14.7,51.7,-29.3,64,-38.8,62.8C-48.2,61.7,-52.4,47.2,-53.6,34.5C-54.9,21.8,-53.2,10.9,-55.6,-1.4C-57.9,-13.6,-64.4,-27.3,-62.3,-38.4C-60.2,-49.6,-49.4,-58.3,-37.6,-65.6C-25.8,-73,-12.9,-79,-3.1,-73.6C6.6,-68.2,13.2,-51.3,26.4,-44.7Z; M27,-42.1C37.6,-40.7,50.4,-38.6,59.8,-31.5C69.2,-24.4,75.1,-12.2,70.8,-2.5C66.6,7.3,52.1,14.5,44.6,24.8C37.1,35.2,36.4,48.6,30.1,57.9C23.9,67.2,11.9,72.5,-2.3,76.5C-16.6,80.6,-33.2,83.3,-41.3,75.1C-49.5,66.9,-49.3,47.6,-49,33.2C-48.8,18.9,-48.6,9.4,-53,-2.5C-57.4,-14.5,-66.4,-29,-63,-37.2C-59.7,-45.4,-44.1,-47.4,-31.5,-47.6C-19,-47.9,-9.5,-46.5,-0.6,-45.5C8.2,-44.4,16.4,-43.6,27,-42.1Z; M43.6,-73.8C57.6,-67.5,70.8,-58,78.4,-45.1C86.1,-32.3,88.3,-16.2,83.3,-2.9C78.3,10.4,66.1,20.8,58.8,34.1C51.4,47.5,48.9,63.9,39.9,68.3C30.9,72.7,15.5,65,1.1,63.1C-13.3,61.2,-26.5,65.1,-39,62.7C-51.4,60.3,-63,51.7,-66.9,40.2C-70.7,28.7,-66.8,14.4,-60.1,3.9C-53.4,-6.7,-44,-13.3,-40.7,-25.6C-37.3,-37.9,-40,-55.9,-34.2,-66.9C-28.4,-77.9,-14.2,-81.9,0.3,-82.5C14.8,-83,29.7,-80,43.6,-73.8Z; M26.5,-44.7C34.9,-41.1,42.5,-35,53.1,-27.1C63.7,-19.3,77.2,-9.6,77.5,0.2C77.8,10,64.9,20,54.7,28.5C44.4,36.9,36.9,43.9,28.2,54.1C19.6,64.2,9.8,77.6,-3.2,83.1C-16.1,88.6,-32.2,86.2,-40.4,75.7C-48.5,65.2,-48.6,46.7,-48,32.7C-47.3,18.8,-45.9,9.4,-50.2,-2.5C-54.5,-14.4,-64.6,-28.8,-61.7,-36.5C-58.8,-44.2,-42.8,-45.3,-30.3,-46.5C-17.9,-47.7,-8.9,-48.9,0.1,-49C9.1,-49.2,18.2,-48.2,26.5,-44.7Z; M42.9,-69.6C55.4,-67,65.3,-55.2,67,-42.1C68.8,-28.9,62.4,-14.5,59.6,-1.6C56.8,11.2,57.6,22.5,55.4,34.9C53.3,47.4,48.3,61.1,38.5,64C28.8,66.8,14.4,58.8,3.3,53C-7.8,47.3,-15.6,43.9,-29.8,43.7C-44,43.4,-64.5,46.3,-72.7,39.5C-80.8,32.8,-76.5,16.4,-70.3,3.6C-64.1,-9.2,-55.9,-18.4,-48.4,-26.3C-40.9,-34.2,-34.2,-40.9,-26.2,-46.1C-18.3,-51.2,-9.1,-54.9,3,-60.2C15.2,-65.4,30.4,-72.1,42.9,-69.6Z; M26.4,-44.7C39.5,-38.1,59.2,-41.8,65.7,-36.1C72.2,-30.3,65.6,-15.2,64.3,-0.7C63,13.7,67.1,27.4,64.9,40.7C62.8,54.1,54.5,67,42.7,66.8C30.8,66.5,15.4,53,0.4,52.4C-14.7,51.7,-29.3,64,-38.8,62.8C-48.2,61.7,-52.4,47.2,-53.6,34.5C-54.9,21.8,-53.2,10.9,-55.6,-1.4C-57.9,-13.6,-64.4,-27.3,-62.3,-38.4C-60.2,-49.6,-49.4,-58.3,-37.6,-65.6C-25.8,-73,-12.9,-79,-3.1,-73.6C6.6,-68.2,13.2,-51.3,26.4,-44.7Z;\",\r\n};\r\n\r\nexport default animationValues;\r\n","import React, {\r\n  forwardRef,\r\n  useState,\r\n  useRef,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  // useLayoutEffect\r\n} from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  TextField,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { SVG } from \"@svgdotjs/svg.js\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport db from \"./firebase\";\r\nimport animationValues from \"./AnimationValues\";\r\nimport \"./assets/css/Message.css\";\r\nimport { Unsubscribe } from \"@material-ui/icons\";\r\n\r\nconst Message = forwardRef((props, ref) => {\r\n  // const blobRef = useRef(null);\r\n  const [text, setText] = useState(props.message.text);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const isUser = props.email === props.message.email;\r\n  const [isAnimating, setIsAnimating] = useState(true);\r\n  const [rendered, setRendered] = useState(false);\r\n  const updateMessage = (id, text_) => {\r\n    db.collection(\"blobs\").doc(id).set(\r\n      {\r\n        text: text_,\r\n        edited: true,\r\n      },\r\n      { merge: true }\r\n    );\r\n    setEditMode(false);\r\n  };\r\n  // useEffect(() => {\r\n  //   if (!rendered) {\r\n  //     var blobText = SVG(\"#text__\" + props.id).text(text);\r\n  //     blobText.attr(\"dominant-baseline\", \"middle\");\r\n  //     setRendered(true);\r\n  //   }\r\n  // }, []);\r\n  // useLayoutEffect(() => {\r\n  //   var topPos, blobPos, onScroll;\r\n  //   const bindAnimation = () => {\r\n  //     topPos = (element) => element.getBoundingClientRect().top;\r\n  //     blobPos = topPos(blobRef.current);\r\n  //   };\r\n\r\n  //   bindAnimation();\r\n  //   onScroll = () => {\r\n  //     const scrollPos = window.scrollY + window.innerHeight;\r\n  //     if (blobPos < scrollPos) {\r\n  //       setIsAnimating(true);\r\n  //     } else if (blobPos >= scrollPos) {\r\n  //       setIsAnimating(false);\r\n  //     }\r\n  //   };\r\n  //   window.addEventListener(\"scroll\", onScroll);\r\n  //   const unsubscribe = () => {\r\n  //     window.removeEventListener(\"scroll\", onScroll);\r\n  //   };\r\n  //   return () => window.removeEventListener(\"scroll\", onScroll);\r\n  //   // return bindAnimation();\r\n  // }, []);\r\n\r\n  return (\r\n    <div ref={ref} className={`message ${isUser && \"message__user\"}`}>\r\n      <div className=\"message__blob\">\r\n        <svg\r\n          className=\"message__blobSvg\"\r\n          // id=\"message__blobSvg\"\r\n          viewBox={`0 0 ${props.message.blobSize} ${props.message.blobSize}`}\r\n          // viewBox={`0 0 250 250`}\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <g id={`text__${props.id}`}>\r\n            <path\r\n              fill={props.message.blobColor}\r\n              transform={`translate(${props.message.blobSize / 2}, ${\r\n                props.message.blobSize / 2\r\n              })`}\r\n            >\r\n              <animate\r\n                attributeName=\"d\"\r\n                values={animationValues[props.message.animationClassName]}\r\n                keyTimes=\"0; 0.2; 0.4; 0.6; 0.8; 1\"\r\n                calcMode=\"paced\"\r\n                dur={isAnimating ? \"2s\" : \"0s\"}\r\n                repeatCount=\"indefinite\"\r\n                begin={`${Math.random()}s`}\r\n              />\r\n            </path>\r\n            {/* <text\r\n              className=\"message__blobText\"\r\n              dominantBaseline=\"middle\"\r\n              textAnchor=\"middle\"\r\n              transform={`translate(${props.message.blobSize / 2}, ${\r\n                props.message.blobSize / 2\r\n              })`}\r\n            ></text> */}\r\n            <foreignObject\r\n              // x=\"10\"\r\n              // y=\"10\"\r\n              // // transform={`translate(-${props.message.blobSize / 2}, -${\r\n              // //   props.message.blobSize / 2\r\n              // // })`}\r\n              width={props.message.blobSize - 10}\r\n              height={props.message.blobSize - 10}\r\n            >\r\n              <p\r\n                xmlns=\"http://www.w3.org/1999/xhtml\"\r\n                className=\"message__blobText\"\r\n              >\r\n                {text}\r\n              </p>\r\n            </foreignObject>\r\n          </g>\r\n        </svg>\r\n      </div>\r\n      {isUser && (\r\n        <div className=\"message__options\">\r\n          {/* <IconButton\r\n            className=\"message__edit\"\r\n            onClick={(e) => {\r\n              setEditMode(!editMode);\r\n            }}\r\n            >\r\n            <EditIcon color=\"primary\" />\r\n          </IconButton> */}\r\n\r\n          <IconButton\r\n            className=\"message__delete\"\r\n            onClick={() => db.collection(\"blobs\").doc(props.id).delete()}\r\n          >\r\n            <DeleteIcon color=\"error\" />\r\n          </IconButton>\r\n          {/* <p>{\"test\\ntest\"}</p> */}\r\n        </div>\r\n      )}\r\n      {/* <p className=\"message__username\">\r\n        {!isUser && props.message.email}\r\n        {props.message.edited && !isUser && \" (edited)\"}\r\n      </p> */}\r\n      {/* <center>\r\n        <p>{props.message.text}</p>\r\n      </center> */}\r\n      {/* <Card className={isUser ? \"message__userCard\" : \"message__guestCard\"}>\r\n        <CardContent>\r\n          {!editMode ? (\r\n            <Typography\r\n              color=\"textPrimary\"\r\n              className={`message__text ${isUser && \"message__userText\"}`}\r\n              variant=\"h6\"\r\n              component=\"h6\"\r\n            >\r\n              {text}\r\n            </Typography>\r\n          ) : (\r\n            <form>\r\n              <TextField\r\n                value={text}\r\n                variant=\"outlined\"\r\n                multiline\r\n                size=\"small\"\r\n                onChange={(e) => setText(e.target.value)}\r\n                onBlur={() => {\r\n                  updateMessage(props.id, text);\r\n                }}\r\n                onKeyPress={(e) => {\r\n                  if (!isMobile) {\r\n                    if (!e.shiftKey && e.key === \"Enter\") {\r\n                      e.preventDefault();\r\n                      updateMessage(props.id, text);\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n              <IconButton\r\n                className=\"message__iconButton\"\r\n                disabled={!text}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                onClick={() => updateMessage(props.id, text)}\r\n              >\r\n                <SendIcon />\r\n              </IconButton>\r\n            </form>\r\n          )}\r\n        </CardContent>\r\n      </Card> */}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Message;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst UserProfileContext = createContext();\r\n\r\nconst UserProfileProvider = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  // const [username, setUsername] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n  // const [activeComponent, setActiveComponent] = useState(\"SignIn\");\r\n  // const [canAccess, setCanAccess] = useState(false);\r\n\r\n  return (\r\n    <UserProfileContext.Provider\r\n      value={[\r\n        [email, setEmail],\r\n        [user, setUser],\r\n        // [authComponent, setAuthComponent],\r\n        // [canAccess, setCanAccess],\r\n      ]}\r\n    >\r\n      {props.children}\r\n    </UserProfileContext.Provider>\r\n  );\r\n};\r\n\r\nexport { UserProfileContext, UserProfileProvider };\r\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport Message from \"./Message\";\r\nimport {\r\n  FormControl,\r\n  TextField,\r\n  // Input,\r\n  IconButton,\r\n  Link,\r\n} from \"@material-ui/core\";\r\n// import FlipMove from \"react-flip-move\";\r\nimport Masonry from \"react-masonry-css\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport firebase from \"firebase\";\r\nimport db, { auth } from \"./firebase\";\r\nimport { UserProfileContext } from \"./UserProfileContext\";\r\nimport \"./assets/css/Chat.css\";\r\n\r\nfunction Chat() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [[email]] = useContext(UserProfileContext);\r\n  const [messages, setMessages] = useState([]);\r\n  // const messagesEndRef = useRef(null);\r\n  useEffect(() => {\r\n    const unsubscribe = db\r\n      .collection(\"blobs\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .limit(100)\r\n      .onSnapshot((snapshot) => {\r\n        setMessages(\r\n          snapshot.docs.map((doc) => ({ id: doc.id, message: doc.data() }))\r\n        );\r\n        // messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n      });\r\n\r\n    return () => unsubscribe();\r\n\r\n    // setUsername(user.displayName);\r\n  }, []);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (input) {\r\n      db.collection(\"blobs\").add({\r\n        text: input,\r\n        // username: username,\r\n        blobSize: Math.floor(Math.random() * (225 - 175) + 175),\r\n        blobColor: colors[Math.floor(Math.random() * colors.length)],\r\n        animationClassName:\r\n          animationClasses[Math.floor(Math.random() * animationClasses.length)],\r\n        email: email,\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n      setInput(\"\");\r\n    }\r\n  };\r\n  const colors = [\r\n    \"#FF0066\",\r\n    \"#8A3FFC\",\r\n    \"#F1C21B\",\r\n    \"#08BDBA\",\r\n    \"#0F62FE\",\r\n    \"#24A148\",\r\n    \"#FA4D56\",\r\n    \"#A7F0BA\",\r\n    \"#9EF0F0\",\r\n    \"#BAE6FF\",\r\n    \"#D0E2FF\",\r\n    \"#E8DAFF\",\r\n    \"#FFD6E8\",\r\n    \"#264653\",\r\n    \"#2a9d8f\",\r\n    \"#e9c46a\",\r\n    \"#f4a261\",\r\n    \"#e76f51\",\r\n    \"#e63946\",\r\n    \"#f1faee\",\r\n    \"#a8dadc\",\r\n    \"#457b9d\",\r\n    \"#1d3557\",\r\n    \"#fca311\",\r\n    \"#14213d\",\r\n    \"#03045e\",\r\n    \"#00b4d8\",\r\n    \"#ffba08\",\r\n    \"#d00000\",\r\n    \"#e85d04\",\r\n    \"#ffafcc\",\r\n    \"#6930c3\",\r\n    \"#7400b8\",\r\n    \"#48bfe3\",\r\n    \"#64dfdf\",\r\n    \"#80ffdb\",\r\n    \"#ef476f\",\r\n    \"#ffd166\",\r\n    \"#06d6a0\",\r\n    \"#e07a5f\",\r\n    \"#f72585\",\r\n    \"#3a0ca3\",\r\n    \"#e2afff\",\r\n    \"#fff3b0\",\r\n    \"#e09f3e\",\r\n    \"#9e2a2b\",\r\n    \"#ffff3f\",\r\n    \"#fdfffc\",\r\n  ];\r\n  const animationClasses = [\r\n    \"animation1\",\r\n    \"animation2\",\r\n    \"animation3\",\r\n    \"animation4\",\r\n    \"animation5\",\r\n    \"animation6\",\r\n  ];\r\n  return (\r\n    <div className=\"chat__main\">\r\n      <div className=\"chat__welcome\">\r\n        <h2\r\n          style={{\r\n            marginLeft: \"18px\",\r\n          }}\r\n        >\r\n          Welcome to BlurbSay!\r\n        </h2>\r\n        <Link\r\n          className=\"chat__signout\"\r\n          onClick={() => {\r\n            auth.signOut();\r\n            return <Redirect to=\"/signin\" />;\r\n          }}\r\n          variant=\"subtitle1\"\r\n          color=\"primary\"\r\n        >\r\n          Log out\r\n        </Link>\r\n      </div>\r\n      <div className=\"chat__chat\">\r\n        <Masonry\r\n          breakpointCols={{\r\n            default: 4,\r\n            1200: 4,\r\n            1024: 3,\r\n            768: 2,\r\n            500: 1,\r\n          }}\r\n          className=\"chat__masonrygrid\"\r\n          columnClassName=\"chat__masonrygrid__column\"\r\n        >\r\n          {/* <FlipMove className=\"chat__flipmove\"></FlipMove> */}\r\n          {messages.map(({ id, message }) => (\r\n            <Message\r\n              key={id}\r\n              // username={username}\r\n              message={message}\r\n              email={email}\r\n              id={id}\r\n            />\r\n          ))}\r\n        </Masonry>\r\n        {/* <div ref={messagesEndRef} /> */}\r\n      </div>\r\n      <div>\r\n        <form className=\"chat__form\">\r\n          <FormControl className=\"chat__formControl\">\r\n            <TextField\r\n              className=\"chat__input\"\r\n              variant=\"outlined\"\r\n              placeholder=\"Type a message...\"\r\n              value={input}\r\n              multiline\r\n              size=\"small\"\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyPress={(e) => {\r\n                if (!isMobile) {\r\n                  if (!e.shiftKey && e.key === \"Enter\") {\r\n                    e.preventDefault();\r\n                    sendMessage(e);\r\n                  }\r\n                }\r\n              }}\r\n              autoFocus\r\n            />\r\n            <IconButton\r\n              className=\"chat__iconButton\"\r\n              disabled={!input}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n              onClick={sendMessage}\r\n            >\r\n              <SendIcon />\r\n            </IconButton>\r\n          </FormControl>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n// import Checkbox from \"@material-ui/core/Checkbox\";\r\n// import Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { auth } from \"./firebase\";\r\nimport { UserProfileContext } from \"./UserProfileContext\";\r\nimport \"./assets/css/SignIn.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      // color=\"textSecondary\"\r\n      align=\"center\"\r\n    >\r\n      {\"Copyright Â© \"}\r\n      {/* <Link color=\"inherit\" href=\"https://material-ui.com/\"> */}\r\n      BlurbSay {/* </Link>{\" \"} */}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#FFF689\",\r\n    color: \"#000000\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    // background: \"#392061\",\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const [[email, setEmail]] = useContext(UserProfileContext);\r\n  const [error, setError] = useState([]);\r\n  const actionCodeSettings = {\r\n    url: \"https://blurbsay.web.app/signin\",\r\n    handleCodeInApp: true,\r\n  };\r\n  const [emailSent, setEmailSent] = useState(false);\r\n  useEffect(() => {\r\n    // if (emailSent) {\r\n    if (auth.isSignInWithEmailLink(window.location.href)) {\r\n      let email_ = window.localStorage.getItem(\"emailForSignIn\");\r\n      console.log(email);\r\n      if (!email_) {\r\n        email_ = prompt(\"Please provide your email for confirmation\");\r\n      }\r\n      auth\r\n        .signInWithEmailLink(email_, window.location.href)\r\n        .then((authUser) => {\r\n          window.localStorage.removeItem(\"emailForSignIn\");\r\n          return <Redirect to=\"/\" />;\r\n        })\r\n        .catch((err) => setError(err));\r\n    }\r\n    // }\r\n  }, []);\r\n  const signIn = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .sendSignInLinkToEmail(email, actionCodeSettings)\r\n      .then((authUser) => {\r\n        setError({});\r\n        setEmailSent(true);\r\n        window.localStorage.setItem(\"emailForSignIn\", email);\r\n      })\r\n      .catch((err) => setError(err));\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" className=\"signin__container\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in to BlurbSay\r\n        </Typography>\r\n        <Typography color=\"error\">{error.message}</Typography>\r\n\r\n        <form className={classes.form}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                className=\"signin__email\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            {/* <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          /> */}\r\n            <Button\r\n              className=\"signin__button\"\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              // color={emailSent ? \"secondary\" : \"primary\"}\r\n              // className={classes.submit}\r\n              onClick={(e) => {\r\n                signIn(e);\r\n              }}\r\n              // disabled={emailSent}\r\n            >\r\n              {emailSent ? \"Link Sent! Send Again?\" : \"Get Sign In Link\"}\r\n            </Button>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Chat from \"./Chat\";\r\nimport SignIn from \"./SignIn\";\r\nimport { auth } from \"./firebase\";\r\nimport { UserProfileProvider, UserProfileContext } from \"./UserProfileContext\";\r\nimport \"./assets/css/App.css\";\r\n\r\nfunction APP() {\r\n  const [[, setEmail], [user, setUser]] = useContext(UserProfileContext);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        setUser(authUser);\r\n        setEmail(authUser.email);\r\n        return <Redirect to=\"/\" />;\r\n      } else {\r\n        setUser(null);\r\n        setEmail(\"\");\r\n        return <Redirect to=\"/signin\" />;\r\n      }\r\n    });\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {user ? <Chat /> : <Redirect to=\"/signin\" />}\r\n          </Route>\r\n          <Route exact path=\"/signin\">\r\n            {!user ? <SignIn /> : <Redirect to=\"/\" />}\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\nconst App = () => {\r\n  return (\r\n    <UserProfileProvider>\r\n      <APP />\r\n    </UserProfileProvider>\r\n  );\r\n};\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./assets/css/index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}